(core.define @NEG (core.lambda (operand)
    (core.list.concat operand @("ineg"))))

(core.define @POS (core.lambda (operand)
    operand))

(core.define @! (core.lambda (operand)
    (core.let (true-label (asm.next-label), done-label (asm.next-label))
      (core.list
        operand
        (core.string.concat @"ifeq " true-label)
        false
        (asm.jump done-label)
        (asm.label true-label)
        true
        (asm.label done-label)))))

(core.define @not !)

